<div class="main-content-container">
  <h2 class="section-title">Mi Perfil</h2>

  <div class="welcome-section">
    <p class="sub-tagline">Gestiona la información de tu cuenta y mantén tus datos actualizados.</p>
  </div>

  <div *ngIf="cargando" class="loading-message">
    <p>Cargando información del perfil...</p>
  </div>

  <div *ngIf="!cargando && user" class="profile-details-section">
    <p><strong>Nombre:</strong> {{ user.name }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Rol:</strong> {{ user.role === 'admin' ? 'Administrador' : 'Usuario' }}</p>
  </div>

  <div *ngIf="!cargando && user" class="profile-update-form">
    <h3 class="form-title">Actualizar Perfil</h3>

    <div class="form-group">
      <label for="name">Nombre:</label>
      <input type="text" id="name" [(ngModel)]="name" class="form-input" />
    </div>

    <div class="form-group">
      <label for="password">Nueva contraseña:</label>
      <input type="password" id="password" [(ngModel)]="password" class="form-input" />
    </div>

    <div class="form-group">
      <label for="currentPassword">Contraseña actual:</label>
      <input type="password" id="currentPassword" [(ngModel)]="currentPassword" class="form-input" />
    </div>

    <div *ngIf="message" [class.alert-success]="message.includes('correctamente')" [class.alert-danger]="!message.includes('correctamente')" class="alert mt-3">
      {{ message }}
    </div>

    <button (click)="updateProfile()" class="action-button primary-button">Actualizar</button>
  </div>

  <div *ngIf="!cargando && !user && !message" class="info-message">
    <p>No se pudo cargar la información del perfil.</p>
  </div>
</div>